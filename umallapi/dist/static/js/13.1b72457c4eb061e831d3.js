webpackJsonp([13],{kGuw:function(t,e){},sevd:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("Dd8w"),s=a.n(o),n=a("NYxO"),r=a("mtWM"),i=a.n(r),l={data:function(){return{goodslist:[],size:2,nowpage:1,total:0}},methods:s()({},Object(n.b)(["goodsAsyncAdd"]),{tzadd:function(){this.$router.push("/goods/add")},edit:function(t){this.$router.push("/goods/"+t)},del:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post(e.$api.goodsdeleteUrl,{id:t}).then(function(t){200==t.data.code&&(e.goodslist=t.data.list,e.$message({type:"success",message:"删除成功!"}))})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},getgoodslist:function(){return this.$axios.get(this.$api.goodslistUrl,{params:{size:this.size,page:this.nowpage}})},getusercount:function(){return this.$axios.get(this.$api.goodscountUrl)},pagechange:function(t){var e=this;console.log(t),this.nowpage=t,this.getgoodslist().then(function(t){200==t.data.code?e.goodslist=t.data.list:e.$message({type:"error",message:t.data.msg})})}}),created:function(){var t=this;this.goodsAsyncAdd().then(function(e){console.log(e.data.list,"123"),t.goodslist=e.data.list})},mounted:function(){var t=this;i.a.all([this.getgoodslist(),this.getusercount()]).then(i.a.spread(function(e,a){t.goodslist=e.data.list,t.total=a.data.list[0].total}))}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",[t._v("商品列表")])],1),t._v(" "),a("p",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.tzadd()}}},[t._v("添加")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.goodslist,"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"商品编号",sortable:"",width:"130"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsname",label:"商品名称",sortable:"",width:"170"}}),t._v(" "),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"price",label:"商品价格",sortable:"",width:"170"}}),t._v(" "),a("el-table-column",{attrs:{prop:"market_price",label:"市场价格",sortable:"",width:"170"}}),t._v(" "),a("el-table-column",{attrs:{prop:"img",label:"图片",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"90px",heigth:"100px"},attrs:{src:t.$api.baseUrl+e.row.img}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-tag",{attrs:{effect:"dark"}},[t._v("启用")]):a("el-tag",{attrs:{effect:"dark",type:"danger"}},[t._v("禁用")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.edit(e.row.id)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.del(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.size},on:{"current-change":t.pagechange}})],1)},staticRenderFns:[]};var c=a("VU/8")(l,d,!1,function(t){a("kGuw")},null,null);e.default=c.exports}});
//# sourceMappingURL=13.1b72457c4eb061e831d3.js.map