webpackJsonp([9],{"3+7e":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("Dd8w"),a=s.n(r),o=s("mvHQ"),i=s.n(o),l=s("NYxO"),n={data:function(){return{tip:"添加",info:{roleid:"",username:"",password:"",status:!1},rolesarr:[],rules:{roleid:[{required:!0,message:"请选择所属角色",trigger:"change"}],username:[{required:!0,message:"请输入用户名",trigger:"change"}],password:[{required:!0,message:"留空则不修改",trigger:"change"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){alert("submit!"),console.log(t.info,"info");var s=JSON.parse(i()(t.info)),r=t.$api.useraddUrl;t.$route.params.id&&(r=t.$api.usereditUrl,s.id=Number(t.$route.params.id)),s.status=s.status?1:2,console.log(s,"设置id的data"),t.$axios.post(r,s).then(function(e){console.log(e,"发送请求的res"),200==e.data.code?t.$router.push("/user"):t.$message.error(e.data.msg)})}})},resetForm:function(e){this.$refs[e].resetFields()}},computed:a()({},Object(l.c)(["getrolelist"])),created:function(){var e=this,t=this.$route.params.id;console.log(t),t&&(this.tip="修改",this.$axios.get(this.$api.usrinfoUrl,{params:{uid:t}}).then(function(t){e.info=t.data.list,e.info.status=1==e.info.status})),this.$axios.get(this.$api.rolelistUrl).then(function(t){console.log(t.data.list,"rolelist"),e.rolesarr=t.data.list})}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),s("el-breadcrumb-item",{attrs:{to:{path:"/menu"}}},[e._v("管理员列表")]),e._v(" "),s("el-breadcrumb-item",[e._v("用户"+e._s(e.tip))])],1),e._v(" "),s("p"),e._v(" "),s("el-form",{ref:"info",staticClass:"demo-info",attrs:{model:e.info,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"所属角色",prop:"roleid"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.roleid,callback:function(t){e.$set(e.info,"roleid",t)},expression:"info.roleid"}},e._l(e.rolesarr,function(e){return s("el-option",{key:e.id,attrs:{label:e.rolename,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"用户名",prop:"username"}},[s("el-input",{staticClass:"resetW",model:{value:e.info.username,callback:function(t){e.$set(e.info,"username",t)},expression:"info.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{staticClass:"resetW",attrs:{type:"password"},model:{value:e.info.password,callback:function(t){e.$set(e.info,"password",t)},expression:"info.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"状态",prop:"status"}},[s("el-switch",{model:{value:e.info.status,callback:function(t){e.$set(e.info,"status",t)},expression:"info.status"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("info")}}},[e._v(e._s(e.tip))])],1)],1)],1)},staticRenderFns:[]};var c=s("VU/8")(n,u,!1,function(e){s("OlRV")},null,null);t.default=c.exports},OlRV:function(e,t){}});
//# sourceMappingURL=9.21ee1e0ff09067e1cf67.js.map