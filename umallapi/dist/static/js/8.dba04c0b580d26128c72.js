webpackJsonp([8],{PRyF:function(e,t){},ydNh:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("Dd8w"),a=i.n(o),r=i("mvHQ"),s=i.n(r),n=i("NYxO"),l={data:function(){return{tip:"添加",info:{title:"",pid:"",status:!1,type:1,icon:"",menus:[]},rules:{title:[{required:!0,message:"请输入菜单名称",trigger:"blur"},{min:1,max:20,message:"长度在 3 到 5 个字符",trigger:"blur"}],pid:[{required:!0,message:"请选择菜单",trigger:"change"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){alert("submit!"),console.log(t.info,"info");var i=JSON.parse(s()(t.info)),o=t.$api.menuaddUrl;t.$route.params.id&&(o=t.$api.menueditUrl,i.id=Number(t.$route.params.id)),i.status=i.status?1:2,console.log(i,"设置id的data"),t.$axios.post(o,i).then(function(e){console.log(e,"发送请求的res"),200==e.data.code?t.$router.push("/menu"):t.$message.error(e.data.msg)})}})}},computed:a()({},Object(n.c)(["getmenulist"])),created:function(){var e=this,t=this.$route.params.id;t&&(this.tip="修改",this.$axios.get(this.$api.menuinfoUrl,{params:{id:t}}).then(function(t){e.info=t.data.list,e.info.status=1==e.info.status}))}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",{attrs:{to:{path:"/menu"}}},[e._v("菜单列表")]),e._v(" "),i("el-breadcrumb-item",[e._v("菜单"+e._s(e.tip))])],1),e._v(" "),i("p"),e._v(" "),i("el-form",{ref:"info",staticClass:"demo-info",attrs:{model:e.info,rules:e.rules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"菜单名称",prop:"title"}},[i("el-input",{staticClass:"resetW",model:{value:e.info.title,callback:function(t){e.$set(e.info,"title",t)},expression:"info.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"上级菜单",prop:"pid"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.pid,callback:function(t){e.$set(e.info,"pid",t)},expression:"info.pid"}},e._l(e.getmenulist,function(e){return i("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"菜单类型",prop:"type"}},[i("el-radio-group",{model:{value:e.info.type,callback:function(t){e.$set(e.info,"type",t)},expression:"info.type"}},[i("el-radio",{attrs:{label:1}},[e._v("目录")]),e._v(" "),i("el-radio",{attrs:{label:2}},[e._v("菜单")])],1)],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.info.type,expression:"info.type == 1"}],attrs:{label:"菜单图标"}},[i("el-input",{model:{value:e.info.icon,callback:function(t){e.$set(e.info,"icon",t)},expression:"info.icon"}})],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.info.type,expression:"info.type == 2"}],attrs:{label:"菜单地址",prop:"url"}},[i("el-input",{model:{value:e.info.url,callback:function(t){e.$set(e.info,"url",t)},expression:"info.url"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"状态",prop:"status"}},[i("el-switch",{model:{value:e.info.status,callback:function(t){e.$set(e.info,"status",t)},expression:"info.status"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("info")}}},[e._v(e._s(e.tip))])],1)],1)],1)},staticRenderFns:[]};var f=i("VU/8")(l,u,!1,function(e){i("PRyF")},null,null);t.default=f.exports}});
//# sourceMappingURL=8.dba04c0b580d26128c72.js.map